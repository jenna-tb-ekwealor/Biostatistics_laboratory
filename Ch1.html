<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Introduction to R and RStudio - Chapter 1</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: auto;
            max-width: 770px;
            line-height: 1.4;
            color: #000;
            padding: 20px 30px 30px 30px;
        }
        h1 {
            font-size: 38px;
            text-align: center;
            margin: 0;
            font-weight: normal;
        }
        h2 {
            font-size: 18px;
            color: #000;
            text-align: center;
            font-style: italic;
            font-weight: normal;
            margin-top: 0;
            margin-bottom: 40px;
        }
        h3 {
            font-size: 150%;
            color: #66023C;
            font-weight: 600;
            margin-top: 40px;
            margin-bottom: 10px;
        }
        h4 {
            margin-top: 30px;
        }
        hr {
            border: none;
            border-top: 1px solid #ddd;
            margin: 25px 0;
        }
        .investigation {
            background-color: rgba(214, 231, 251, 0.6);
            padding: 20px 22px;
            margin-bottom: 20px;
            border-radius: 6px;
        }
        pre {
            background-color: #F2F2F2;
            padding: 10px;
            border-radius: 5px;
            overflow-x: auto;
        }
        .questions, .challenge {
            margin: 15px 0;
        }
        .bonus {
            font-weight: bold;
        }
        .challenge-title {
            color: red;
            font-size: 150%;
            font-weight: 600;
        }
        .discussion-title {
            color: #2724ed;
            font-size: 150%;
            font-weight: 600;
        }
        .figure {
            margin: 25px 0;
            text-align: center;
        }
        .figure-caption {
            font-size: 0.9em;
            color: #555;
            margin-top: 5px;
        }
            div.creme {
            background-color: #fff5e6;
            border-radius: 5px;
            padding: 10px 20px;
            font-size: 80%;
        }
</style>
</head>
<body>

<h1>Introduction to R and RStudio</h1>
<h2>Chapter 1</h2>
<div style="margin-bottom: 20px;"></div>

<div class="investigation" style="text-align: justify; padding-top: 10px; padding-bottom: 10px;">
<p><strong>Today’s investigation.</strong> Transparency and reproducibility are key attributes of scientific
studies. In an effort to advance science across fields, primary
literature now needs to be accompanied by the data analyzed and the
analysis carried out. Because of this, <em>programming languages</em>
have become popular in science. They support easy work with data and
allow us to reproduce a statistical analysis in its entirety. Today, we
will explore the popular R programming language. We will be using R and
its integrated development environment, RStudio, to manage biological
data and address research questions with the goal to practice
transparency and reproducibility in statistical analyses.</p>
</div>

<hr style="border-top: 1px solid #eee; margin: 5px 0 10px 0;">

<h3 style="margin-top: 20px;">Introduction</h3>


<p>In this lab, we will introduce R, a <em>programming language</em> and
free software environment for statistical computing and graphics. First
developed in the 1990s, R has become a popular tool among biologists in
recent years and nearly an essential skill among biology students,
supporting national calls to promote and enhance quantitative literacy.
In particular, the popularity of R in biology is partly due to its
quality as a statistical software and its ability to manage large
datasets. Besides being free, one can contribute to new functions and
many other tools within R that can be shared with the public. One of
these developments is <em>RStudio</em>, an integrated development
environment for R that makes it easier to navigate certain aspects of
the language. So, let’s explore both R and RStudio and learn some of its
basic attributes and codes.</p>
<p><strong>Upon completion of this lab, you should be able
to:</strong></p>
<ul>
<li>Familiarize with the layout of RStudio;</li>
<li>Import data to R using RStudio;</li>
<li>Identify the structure of a data object;</li>
<li>Manage a data object by selecting and filtering columns;</li>
<li>Create a reproducible lab report in R Markdown.</li>
</ul>
<p><strong>Reference:</strong></p>
<ul>
<li><a href="https://cpb-us-w2.wpmucdn.com/sites.wustl.edu/dist/6/1127/files/2018/12/Donihue-et-al.-2018-2e1xqw4.pdf">C.M.
Donihue, et al. Hurricane-induced selection on the morphology of an
island lizard. Nature, 560 (2018), pp.88-91</a></li>
</ul>
<div id="materials" class="section level3">
<h3>Materials</h3>
<ul>
<li>R and RStudio</li>
<li>anole.csv</li>
<li>lizards.csv</li>
</ul>
<hr />
</div>
</div>
<div id="in-class-activity" class="section level2">
<h2>In-class activity</h2>
<p>This example should work as a step-by-step introduction to some basic
skills you will be implementing in the following chapters. For this
activity, we will be using the dataset “anole.csv” from <a href="https://cpb-us-w2.wpmucdn.com/sites.wustl.edu/dist/6/1127/files/2018/12/Donihue-et-al.-2018-2e1xqw4.pdf">Donihue
et al. 2018</a>.</p>
<div id="creating-and-setting-a-working-directory" class="section level3">
<h3>1. Creating and setting a working directory</h3>
<p>In your computer, create a folder named “working_directory” and save
the downloaded file “anole.csv” in it. Open RStudio. Go to the
Flies/Plots/Packages/Help window (usually in the bottom right pane) and
search for your working_directory folder in Files. This window in
RStudio allows you to navigate folders in your computer. Once in your
working_directory folder, click the gear icon -&gt; Set As Working
Directory. <strong>Note:</strong> for R to read the files of interest,
you need to indicate where in your computer is the file (i.e., your
working directory).</p>
<p>Alternatively, you can go to Session (at the top) -&gt; Set Working
Directory -&gt; Choose Directory.. and navigate to
working_directory.</p>
</div>
<div id="creating-and-saving-your-r-script" class="section level3">
<h3>2. Creating and saving your R script</h3>
<p>An R script is where you will be saving your codes and the progress
of your work. The first step when carrying out a new analysis is to open
a new script and save it. We are going to be doing this in our custom
“Lab Report” format. Download the file from Canvas and save it somewhere
handy on your computer. This copy will serve as your template for each
Lab this semester. Then, open it and File -&gt; Save As with a useful
name in your working_directory folder, with a .Rmd file extension. This
is the copy you can work with for today’s Lab Activity.</p>
</div>
<div id="annotating-your-r-script" class="section level3">
<h3>3. Annotating your R script</h3>
<p>Annotating your script is a very important step that helps you to
keep track of your work and facilitates reproducibility. The R script
serves as your notebook. There, you save your codes together with
associated annotations indicating what those codes are for. In your
script, write a description of the codes you will be employing in this
activity. <strong>Use a “#” before any line of text you want R to
interpret as an annotation and not as code</strong>. In Markdown, “#”
outside a code chunk indicates a header. Click the “Knit” button at the
top frequently to see how your document is looking.</p>
<p>For example, in the beginning of this activity’s script, you may
add:</p>
<pre class="r"><code># Chapter 1: Intro to R and RStudio</code></pre>
<p><strong>Note:</strong> Remember to do annotations before any line of
code so that you or others can understand the meaning of the code.</p>
</div>
<div id="importing-data-files-to-r-using-rstudio" class="section level3">
<h3>4. Importing data files to R using RStudio</h3>
<p>There are several ways to import data to R using RStudio and it
depends on the type of file the data is (i.e., .csv, .RData). You may
use the one that works best for you. Below are three ways to import
data:</p>
<ul>
<li><p><strong>A. Importing a .csv file using the RStudio drop down
menu</strong>: In the Flies/Plots/Packages/Help window of RStudio, click
File and search for your working_directory folder. Once there, click on
the anole.csv file and import it using the drop down menu. If it worked,
you should see “anole.csv” in the RStudio Global Environment
window.</p></li>
<li><p><strong>B. Importing a .csv file using codes</strong>: After
setting up your working directory (Step 1), use the function
<code>read.csv()</code> to import the anole.csv file. See the example
below. Note the use of the commands <code>header=TRUE</code> in order to
treat the first row of the data frame as a header and
<code>stringsASFactors=TRUE</code> to indicate that strings in the data
frame should be treated as factor variables.</p></li>
</ul>
<pre class="r"><code># importing the anole data
anole &lt;- read.csv(&quot;anole.csv&quot;,header=TRUE,stringsAsFactors=TRUE)</code></pre>
<p>To run the line of codes, copy it and paste it in your R script. You
may highlight it and click “Run”, which is located in the upper side of
the script. If it worked, you should see the line of codes in your
console and “anole.csv” in the RStudio Global Environment window.</p>
<ul>
<li><strong>C. Using an .RData file</strong>: If the data file is an R
object (file extension = .RData), right click it and open it with
RStudio. If it worked, you should see “anole.csv” in the RStudio Global
Environment window.</li>
</ul>
</div>
<div id="exploring-the-imported-dataset" class="section level3">
<h3>5. Exploring the imported dataset</h3>
<p>Before any analysis, we first need to check the data and understand
its attributes.</p>
<p>Let’s start looking into the structure of “anole.csv” by using the
function <code>str()</code>. This function gives us information about
the <em>class</em> of the data object (i.e., “anole.csv”), what
<em>variables</em> are in the data object, and how many
<em>observations</em> we have in the data object.</p>
<pre class="r"><code># data structure
str(anole)</code></pre>
</div>
<div id="questions" class="section level3">
<h3><em>Questions</em></h3>
<ol style="list-style-type: lower-alpha">
<li><p><em>What is the class of the dataset “anole.csv” (e.g., data
frame, table, tibble)?</em></p></li>
<li><p><em>How many observations and variables does the dataset
“anole.csv” have?</em></p></li>
<li><p><em>What is the class of each variable in the dataset “anole.csv”
(e.g., character, factor, numeric, integer)?</em></p></li>
</ol>
<p>Other useful exploratory functions are <code>levels()</code>, which
returns the unique values (levels) of a factor variable;
<code>summary()</code>, which summarizes each variable in the dataset;
<code>head()</code>, which returns the first rows in our dataset to
explore the variables, and <code>View()</code> which opens the dataset
as a spreadsheet. Note that R language is case-sensitive.</p>
<pre class="r"><code># levels of the variable Sex, the $ sign means &quot;within&quot;
levels(anole$Sex)

# summary of each variable
summary(anole)

# first rows of anole
head(anole)

# viewing anole
View(anole)</code></pre>
</div>
<div id="questions-1" class="section level3">
<h3><em>Questions</em></h3>
<ol style="list-style-type: lower-alpha">
<li><p><em>How many levels does the variable Sex have?</em></p></li>
<li><p><em>What is the mean Femur length of “anole.csv”?</em></p></li>
<li><p><em>What are the first three variables in
“anole.csv”?</em></p></li>
</ol>
</div>
<div id="managing-data" class="section level3">
<h3>6. Managing data</h3>
<p>Many functions like <code>str()</code> come built into R. However, R
packages give you additional useful functions. You will be using some
functions from the package <em>tidyverse</em> to manage your data (e.g.,
filtering columns, selecting columns). Before you use a package for the
first time you need to install it in R. After installation, you should
load it using <code>library()</code> in every subsequent R session as
needed.</p>
<pre class="r"><code># installing tidyverse
install.packages(&quot;tidyverse&quot;,repos=&quot;http://cran.us.r-project.org&quot;)

# loading tidyverse
library(tidyverse)</code></pre>
<p>Now, let’s say you are interested only in the column “Femur” within
anole and you want to store such column in a new object named
<em>femurs</em>. To select columns of a data frame, use
<code>select()</code>. The first argument in this function is the data
object, and the subsequent argument is the column to keep. Keep in min
that <code>select()</code> is part of package tidyverse.</p>
<pre class="r"><code># selecting the column femur
femurs &lt;- select(anole, Femur)

# checking the new object created
femurs</code></pre>
</div>
<div id="questions-2" class="section level3">
<h3><em>Questions</em></h3>
<ol style="list-style-type: lower-alpha">
<li><em>Is the new object in the Global Environment?</em></li>
</ol>
<p>Now, say you are interested only in femurs of length higher than 10
mm. To filter by row, use <code>filter()</code>. The first argument in
this function is the data object, and the subsequent arguments are the
column name and the condition.</p>
<pre class="r"><code># filtering femurs by femur length &gt; 10mm
femurs_10mm &lt;- filter(femurs, Femur&gt;10)

# checking the new object created
femurs_10mm</code></pre>
</div>
<div id="questions-3" class="section level3">
<h3><em>Questions</em></h3>
<ol style="list-style-type: lower-alpha">
<li><em>What’s the longest femur length in femurs_10mm?</em></li>
<li><em>How many observations does femurs_10mm have?</em></li>
</ol>
</div>
<div id="descriptive-statistics" class="section level3">
<h3>7. Descriptive statistics</h3>
<p>Finally, keep in mind that R is a language in which we can define our
own mathematical functions. Therefore, it also works as a calculator.
Let’s employ descriptive stats functions for “Femur” in anole, including
<code>mean()</code>, <code>median()</code>, <code>min()</code>,
<code>max()</code>, and <code>range()</code> to estimate the mean,
median, minimum, maximum and range of femur length values, respectively.
Note the use of the <code>\$</code> sign!</p>
<pre class="r"><code># mean femur length
mean(anole$Femur)

# median femur length
median(anole$Femur)

# minimum femur length
min(anole$Femur)
# max femur length
max(anole$Femur)

# range of values for femur length
range(anole$Femur)</code></pre>
</div>
<div id="questions-4" class="section level3">
<h3><em>Questions</em></h3>
<ol style="list-style-type: lower-alpha">
<li><em>Do you get the same results from the summary()
function?</em></li>
</ol>
</div>
<div id="stop-think-do" class="section level3">
<h3>Stop, Think, Do:</h3>
<p>Now, it is your turn to practice what we have done with dataset
“lizards”. <strong>Stop</strong> and review the steps 1-7 you just did.
<strong>Think</strong> about how you could manipulate such codes in
order to do the same analysis for “lizards”. <strong>Do</strong> the
analysis and answer the questions! <em>Hint</em>: give an appropriate
name to the new objects you will create for “lizards”. Such names should
not overwrite the ones used for “anole.csv” in your script. Do the
analysis and be ready to present it!</p>
</div>
<div id="discussion-questions" class="section level3">
<h3>Discussion questions</h3>
<ol style="list-style-type: lower-alpha">
<li><em>Now that you are more familiarized with RStudio, can you
describe its layout including its four principal components
(windows)?</em></li>
<li><em>Mention three benefits of annotating your script.</em></li>
<li><em>How do you set a path between R and the location of your files
in your computer?</em></li>
<li><em>Why would you use the str() function?</em></li>
</ol>
<p><strong>Great Work!</strong></p>
<hr />
<p>This activity was adapted from the <a href="https://qubeshub.org/publications/2213/supportingdocs/1">Biostatistics
using R: A Laboratory Manual</a> by Raisa Hernández-Pacheco and Alexis A
Diaz of California State University, Long Beach by Jenna T. B. Ekwealor
for San Francisco State University.</p>
<p><a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFgAAAAfCAMAAABUFvrSAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAEZ0FNQQAAsY58+1GTAAAAAXNSR0IB2cksfwAAAb9QTFRF////////////////8fHx7+/v6Ofn4+Pj4N/g39/f1tXV09bS0tXS0tXR0dTR0dTQ0NTQ0NPPz9PPztLOztHNzdHNzdHMz8/PzdDMzNDMzNDLzM/Ly8/Ly8/Ky87Kys3Jyc3Jyc3Iy8rLyMzIyMzHx8vHxsrGycjIxsrFxcnFyMfHxcnExMnExMjDw8jDxMfDw8fCwsfCwcXAwMXAwMW/wMS/v8S+v8O+vsO+vsK9vcK9vcK8v7+/vMG8vMG7vMC8u8C7u8C6ur+6ur+5ub65ub64uL23t7y2urm5tru1tbq0tLqztLmzs7iysrixtbW1srexsbewsbawsLavsLWvr7Wur7SusLOvrrStrrOtr7KvrbOsrLKrr6+vq7GqrKuro6Ghn6OenqCdn5+fnp2dn5aalpmWmJaXk5iTkZSRkZORkY+Pj4+PiYyJjoeLhIaEhIWEgoWChIGCgICAfX98fH98eXx5dnN0cHJvcHBwbmxsY19hYGBgXV5dUFFQUFBQQ0RDQEBAPj8+Pzc5NTY1MjMxMDAwMS0uLS0tKSkpKCkoKCgoKicnJCQkIx8gICAgGxsbEBAQDg4ODQ4NAAAAi/BQCAAAAAN0Uk5TAAoO5yEBUwAAA49JREFUeNq1lo930lYUx7Pdsg5pjdF0DiixTNyyKpVhtToY2lGKxeJaHU4HpWrdZplOV7STDfnRbdGyLTTy/YN3XkJoGqBn4nwHzjvn+3gfbr73vvvCvYu3MjgOSCUTsfPhKTkwIXndbq/vWEAOhmdic8lUevnrm9lsLv/6A+CQSsYjZ0Oy3ycK/IjLNXJQEMf9cmg6EmfkzM1sbiAyh2Q8ciZ4QhL5x7UWe4hW7RF/xBc4Ff48nkxdvZ65ZYa8uc2WtzftjJ46OCQiZ4IBj1DY2TVoZ11w+0+GI3PJxaXr7ZDvN4B6qVQHGvethD46OMTOBgNuvgJAKxej0WJZA1A5/YH/1HQssZBeNkK+8wpVJxGRs4pXFkI/HRzOh054GFcrOsgYaxrQOO0OhGZm51N6yPl8A2UiAtgyGrsAXR+enBy26eAQliWhAihO6gyHAlQEnxyOJBbS125kc7lNVA+YYKqi46eu31ZVVb28R2fgqeNiAVAcRHvJ60f8wXOzyStLmVu53DYs/+vEtrmf6ZPq77/9oqo/WnUGln38DrSjtGc4NOzw43L4i0TqKvMCdaaWoRtCdXT212noO/UnonvqC6vOwIGxx0CRbGMNeCQGQhfiC+lrDFwi3QnDi9IuuERD/6h/EQ2r6nsWnYEnDtegOYii1Xq9aEwPiEhDTTjGvFhcvrEvmL56GdXB79vAEt9iDxjVK7i+ok9l9titg76T05fmryxn9rWCLt/+hGhVVe1WeEeBB0QKms5oc02B4lxprulejHjlcGw+tZTJmskzArYl756qbmz8rf5gT57HBUTZnqKxtW13FHC5PzbBm6hSn3Ij2mDl9uuQvdz+E9h6QEpdB+Sj1dUDNn2PFY6jzaIChU12KwY50u3ktbPWSV4JLV7qJC+fv9MAlHJJsTehPrpebhVo1Cm3lbo+URM1YSJ47kuj3AZpm4Gxgu5FrwPy2YW5hbTRhV6/0X+qH2nn/kd6EPDUcfFuryZUEP1TM7PJRb0JDQLGU0l4DiiWNuTU26b08xtd0wCeeQ9ZG72jqAF/8J6neFMwnrgPPbddTfyH39t+aZwPGN/uBeoFxhOvcNd6mRYEj50Lan+oWzcXu8F4Jol8wbz+13lR6vbBbJs9FowW0hOMP7/1jR3mR12uUV4Qx7/Z6jatjxHGUt+IAWw9vCh5PR6vdPHhVq9s9IvY9L4v+P9+K3znLXH/BS/TEND+y7DLAAAAAElFTkSuQmCC" /></a><br />This
work is licensed under a
<a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative
Commons Attribution-ShareAlike 4.0 International License</a>.</p>
</div>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
